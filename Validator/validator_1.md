Валидация
---

[ Почитать про валидаторы ](https://djangodoc.ru/3.1/ref/validators/)

---
Функция валидации
---
Валидаторы выполнены в виде функций, эти функции указываются в 
полях модели данные которых мы хотим проверять, в специальном 
атрибуте `validators=[]` можно указывать целый список различных
валидаторов.

По сути валидатор это коллбэк функция, которая вызывается каждый 
раз когда происходит валидация данного поля модели, в качестве
аргумента коллбэк функция принимает пришедшие данные в чистом 
не измененном виде.

Импорт валидаторов :

```python
from django.core.validators import ValidationError
```
    
Исключение `ValidationError` наследуется от `Exception` его можно
удобно использовать для выброса исключения в кастомной функции
валидаторе.

К примеру, при определении поля модели мы можем задать параметр 
`max_length` который ограничивает максимальное число, но такого же
параметра для минимально введенного количества символов нет, 
создадим функцию валидатор которая будет проверять на минимальное
количество символов и бросать исключение если введенное значение
меньше нашей планки.

```python
from django.core.validators import ValidationError

def validate_min_char(name):
    """Проверка поля на минимальное количество символов"""
    if len(name) < 4:
        raise validators.ValidationError(
            'Название {name} должно иметь больше чем {min} символов'.format(
                name=name, min=4
            )
        )
```

Подключаем валидатор к полю модели
```python
class Objects(models.Model):
    """Модель отражающая некий обьект"""

    id = models.AutoField(primary_key=True)
    name = models.CharField(
        verbose_name='Обьект', 
        blank=False, 
        null=False,
        max_length=255, 
        validators=[validators.validate_min_char]
    )
```
