Настройки `Django` проекта
---

Файлы настроек `Django` это файлы самого `python` что дает возможность 
импортировать настройки из других файлов, и вычислять настройки динамически.

В `Django` дефолтным файлом настроек проекта является файл `settings.py`
именно от туда берутся настройки для проекта.

Но откуда `Django` знает какой файл настроек ему брать ? Для этого есть
специальная предустановленная переменная окружения, с которой `Django`
запускается по дефолту, и это `DJANGO_SETTINGS_MODULE` именно в этой 
переменной окружения и храниться путь к файлу который следует брать в
качестве файла настроек для проекта. 

То есть мы не только можем управлять проектом получая настройки из
переменных окружения файла `.env` но так же можем задавая переменную
окружения `DJANGO_SETTINGS_MODULE` управлять какой из файлов настроек
использовать.

При запуске сервера, указывая специальный параметр `--settings` мы 
можем в ручную установить какой файл настроек использовать.

Это может быть полезно, когда мы запускаем сервер выбирая между
окружением `local` `prod` `develop`

>python3 manage.py runserver --settings=config.settings.local

---
Настройки `settings.py` по умолчанию
---

Файл `settings.py` в котором по дефолту хранятся настройки проекта,
имеет множество переменных и констант, все эти настройки имеют дефолтные 
значения и берутся из файла `django/conf/global_settings.py` и по сути 
задавая настройки мы попросту переопределяем базовые настройки самого `Django`

Мы можем получить вывести в терминал все те настройки, что были 
переопределены в `settings.py`
>python3 manage.py diffsettings

Именно эти настройки и доступны нам когда мы импортируем модуль :
```python
from django.conf import settings
```

---
Основные настройки `settings.py` :
---

[ Почитать про настройки ](https://djangodoc.ru/3.1/ref/settings/)


- `ADMINS` 
  > список пользователей которые получат письмо на почту, когда
  > в коде происходит ошибка.



- `ALLOWED_HOSTS `
  > Cписок с разрешенными доменными именами, если к сайту
  > происходит обращение по неразрешенному домену, то ответа не последует, 
  > проверка происходит с **учетом регистра !** Когда `DEBUG = True` то принимает
  > дефолтные значения `['localhost', '127.0.0.1', '[::1]']` для локального 
  > обслуживания `ip4` и `ip6`


- `URL_PREFIX` 
  > Это префиксы для `url` адресов. 
  > 
  > Иногда может возникнуть необходимость задать префиксы для `URL` путей, как
  > для основной части, так и для админки, сделать это можно через переменные 
  > окружения. 
  > 
  > `URL_PREFIX` - это системная константа(обычная переменная, python очень 
  > либеральный язык) которая используется, для того чтобы задать
  > основной `URL` путь к сайту.
  >
  > Файл с переменными окружения `env` 
  > 
  >DJANGO_URL_PREFIX='dom1/dom2'
  >
  > Файл настроек `settings.py`
  >```python
  >URL_PREFIX = env.str('DJANGO_URL_PREFIX', default='')
  >```

  - `STATIC_ROOT`
  > указывает директорию относительно корня проекта, сюда будут
  > скопированы статические файлы из приложений при использовании команды сборки 
  > статический файлов
  > 
  >`python3 manage.py collectstatic`

  - DJANGO_DATABASE_CONN_MAX_AGE=60
  > Время жизни соединения с базой данных. По умолчанию обычно выставляют: 60 с
  > 
  > Файл с переменными окружения `env`:
  > 
  >`DJANGO_DATABASE_CONN_MAX_AGE=60`
  > 
  > Файл настроек `settings.py`:
  > ```
  > DATABASES = {
  > ...
  > 'CONN_MAX_AGE': env.int('DJANGO_DATABASE_CONN_MAX_AGE', default=60),
  > ...
  > ```


