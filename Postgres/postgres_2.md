Пользователи и Роли
---

Показать всех пользователей

    SELECT * FROM pg_user;

Показать все роли в БД

    SELECT * FROM pg_roles;

    или команду
    
    \du

---
 
Создать новую роль 

    CREATE ROLE new_role_name;

Удалить роль, и получить ошибку если такой роли не существует

    DROP ROLE role_name;

Удалить роль если такая роль существует, если ее нет то ошибки не будет 

    DROP ROLE IF EXISTS role_name;

---

Есть дамп в виде файла `sql` его требуется развернуть в БД из файла, сделать
это можно такой командой

    psql -U user -d db_name < dump_file.sql

Дать права пользователю на БД

    GRANT ALL PRIVILEGES ON DATABASE db_name to user_name;

Дать пользователю права супер пользователя

    ALTER USER user_name WITH SUPERUSER;

---

У нас есть ситуация, нам требуется сделать дам БД в виде `sql` файла, в самой БД
есть пользователи, и эти пользователи имеют права на различные действия, мы 
можем выгрузить дамп 2 способами, с сохранением прав и без.

Если права будут сохранены, то нам потребуется создать такого же пользователя в нашей
системе, и выполнять действия от его лица, такие как разворот дампа, нам потребуется
выполнять действия либо под тем же пользователем либо под универсальным пользователем 
`postgres`

Или можно выгрузить БД без сохранения прав пользователей.

Сделать дамп с сохранением прав пользователей

    pg_dump db_name > namebackup.sql

Сделать дамп без сохранения прав пользователей

    pg_dump --no-owner db_name > namebackup.sql




